<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>

<!--(==============================================================)--> <!--(Document created with RoboEditor. )============================--> <!--(==============================================================)-->


<!-- Mirrored from www.hgy413.com/hgydocs/IA32/instruct32_hh/vc178.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Sep 2022 16:29:30 GMT -->
<head>

<title>MOV - 移入/移出控制寄存器</title>

<!--(Meta)==========================================================-->

<meta http-equiv=content-type content="text/html; charset=GB2312">
<meta name=date content="07 1, 2002 2:12:46 PM">
<meta name=topic-status content="In Progress">
<meta name=topic-priority content=0>
<meta name=topic-time-estimate content=0>
<meta name=topic-comment content>
<meta name=topic-id content="MOV--Move to/from Control Registers">
<meta name=generator content="RoboHELP by eHelp Corporation - www.ehelp.com">
<meta name=generator-major-version content=0.1>
<meta name=generator-minor-version content=1>
<meta name=filetype content=kadov>
<meta name=filetype-version content=1>
<meta name=page-count content=1>
<meta name=layout-height content=1080>
<meta name=layout-width content=792>
<meta name=x-ignored-words content="PACKSSWB;PACKSSDW--Pack;Opcode;r;PACKSSDW;doubleword;doublewords;quadword;XMM;SaturateSignedWordToSignedByte;SaturateSignedDoublewordToSignedWord;SaturateSignedDwordToSignedWord;DS;ES;FS;GS;SS;UD;OSFXSR;CPUID;TS;MF;FPU;FFFFH;PF;Vol;microarchitecture;CMPPD--Compare;ib;CMPPD;SIMD;CMPPS;NaN;QNaN;eq;lt;le;unord;neq;nlt;nle;ord;pseudo-ops;CMPEQPD;CMPLTPD;CMPLEPD;CMPUNORDPD;CMPNEQPD;CMPNLTPD;CMPNLEPD;CMPORDPD;EQ;LT;LE;UNORD;NEQ;NLT;NLE;ORD;FFFFFFFFFFFFFFFFH;FI;SNaN;denormal;PF(fault-code;XM;OSXMMEXCPT;CMPS;CMPSB;CMPSW;CMPSD--Compare;E;SI;DI;CMPSD;ESI;EDI;decremented;DF;ECX;REPE;REPZ;REPNE;REPNZ--Repeat;SetStatusFlags(temp;comparison*;CF;SF;ZF;AF;GP;EFLAGS;CWD;CDQ--Convert;Doubleword;Quadword;DX;CDQ;EDX;EAX;opcode;OperandSize;SignExtend(AX;SignExtend(EAX;CBW;CWDE--Convert;CWDE;SignExtend(AL;FCOM;FCOMP;FCOMPP--Compare;ST(i;FCOMPP;Unordered*;FXAM--Examine;FUCOM;QNaNs;ESAC;FPUControlWord.IM;PopRegisterStack;FADD;FADDP;FIADD--Add;FIADD;DEST;F;±F;ConvertExtendedReal(SRC;FICOM;FICOMP--Compare;FICOMP;FDIV;FDIVP;FIDIV--Divide;FIDIV;Z;±;FDIVR;FDIVRP;FIDIVR--Reverse;FIDIVR;FMUL;FMULP;FIMUL--Multiply;FIMUL;FISTP--Store;FISTP;RC;FISUB--Subtract;FSUB;FSUBP;FISUB;Dest;FSUBR;FSUBRP;FISUBR;FLDZ--Load;EB;EC;EE;FLDZ;FLDPI;FCLEX;FNCLEX--Clear;FNCLEX*;PE;UE;OE;ZE;IE;FNCLEX;MS-DOS*;MXCRS;FNINIT*;coprocessor;FPUControlWord;FPUStatusWord;FPUTagWord;FPUDataPointer;FPUInstructionPointer;FPULastInstructionOpcode;FINIT;FNINIT;MXCSR;FSAVE;FNSAVE--Store;FNSAVE*;FNSAVE;FNINIT--Initialize;coprocessors;FPUs;FWAIT;DEST[FPUControlWord;DEST[FPUStatusWord;DEST[FPUTagWord;DEST[FPUDataPointer;DEST[FPUInstructionPointer;DEST[FPULastInstructionOpcode;nonwritable;FSTCW;FNSTCW--Store;FNSTCW*;FNSTCW;FNSTENV--Store;FSTENV;FNSTENV*;FNSTENV;FNSTSW--Store;FNSTSW*;FNSTSW;FPREM;FXAM;FSTSW;denormalized;MOV--Move;ModR;M;m;PG;PGE;PSE;PAE;PDPTRs;MOV;reg;TLB;Lookaside;TLBs">


<!--(Links)=========================================================-->

 <link rel='stylesheet' href='MSL_styl_ns.css'>
<script type="text/javascript" language="JavaScript" title="WebHelpSplitCss">
<!--
if (navigator.appName !="Netscape")
{   document.write("<link rel='stylesheet' href='MSL_styl.css'>");}
//-->
</script>
<style type="text/css">
<!--
table.whs1 {x-border-left: 1px table-solid; x-border-top: 1px table-solid; x-border-right: 1px table-solid; x-border-bottom: 1px table-solid; border-collapse: separate; border-spacing: 3px; margin-top: 14pt; x-border-left: 1px table-solid; x-border-top: 1px table-solid; x-border-right: 1px table-solid; x-border-bottom: 1px table-solid; border-collapse: separate; border-spacing: 3px;}
td.whs2 {x-cell-content-align: CENTER; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px;}
img_whs3 {border-style: none; margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; border-style: none; width: 13px; height: 16px;}
p.whs4 {margin-bottom: 0;}
-->
</style>
<script type="text/javascript" language="JavaScript">
<!--
if ((navigator.appName == "Netscape") && (parseInt(navigator.appVersion) == 4))
{
  var strNSS = "<style type='text/css'>";
  strNSS += "img_whs3 {margin-top:1;margin-bottom:1;margin-left:1;margin-right:1; }";
  strNSS += "p.whs4 {margin-bottom:1; }";
  strNSS +="</style>";
  document.write(strNSS);
}
//-->
</script>
<script type="text/javascript" language="JavaScript" title="WebHelpInlineScript">
<!--
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//-->
</script>
<style type="text/css">
<!--
  div.WebHelpPopupMenu {position:absolute; left:0px; top:0px; z-index:4; visibility:hidden;}
-->
</style>
<script type="text/javascript" language="javascript1.2" src="../whmsg.js"></script>
<script type="text/javascript" language="javascript" src="../whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="../whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="../whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="../whtopic.js"></script>
</head>

<!--(Body)==========================================================-->


<body>

<script type="text/javascript" language="javascript1.2">
<!--
if (window.gbWhTopic)
{
	if (window.addTocInfo)
	{
	addTocInfo("参考\n指令集\nIA-32 指令\nM - 指令\nMOV - 移入/移出控制寄存器");

	}
	if (window.writeBtnStyle)
		writeBtnStyle();

	if (window.writeIntopicBar)
		writeIntopicBar(0);

	if (window.setRelStartPage)
	{
	setRelStartPage("../reference_olh.html");

		autoSync(1);
		sendSyncInfo();
		sendAveInfoOut();
	}
}
else
	if (window.gbIE4)
		document.location.reload();
//-->
</script>
<h1>MOV - 移入/移出控制寄存器</h1>

<!--(Table)=========================================================-->
<table x-use-null-cells wrapperparagraphselector="P" cellspacing="3" border="1" class="whs1">

<tr>
<td valign="middle" class="whs2">
<h3 CLASS=TableHead
	style="margin-bottom: 0;">操作码</td>
<td valign="middle" class="whs2">
<h3 CLASS=TableHead
	style="margin-bottom: 0;">指令</td>
<td valign="middle" class="whs2">
<h3 CLASS=TableHead
	style="margin-bottom: 0;">说明</td></tr>

<tr>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">0F 22 /<span style="font-style: italic;"><I>r</I></span></td>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">MOV CR0,<span style="font-style: italic;"><I>r32</I></span></td>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">将 <span style="font-style: italic;"><I>r32</I></span> 移到 CR0</td></tr>

<tr>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">0F 22 /<span style="font-style: italic;"><I>r</I></span></td>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">MOV CR2,<span style="font-style: italic;"><I>r32</I></span></td>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">将 <span style="font-style: italic;"><I>r32</I></span> 移到 CR2</td></tr>

<tr>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">0F 22 /<span style="font-style: italic;"><I>r</I></span></td>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">MOV CR3,<span style="font-style: italic;"><I>r32</I></span></td>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">将 <span style="font-style: italic;"><I>r32</I></span> 移到 CR3</td></tr>

<tr>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">0F 22 /<span style="font-style: italic;"><I>r</I></span></td>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">MOV CR4,<span style="font-style: italic;"><I>r32</I></span></td>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">将 <span style="font-style: italic;"><I>r32</I></span> 移到 CR4</td></tr>

<tr>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">0F 20 /<span style="font-style: italic;"><I>r</I></span></td>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">MOV <span style="font-style: italic;"><I>r32,</I></span>CR0</td>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">将 CR0 移到 <span style="font-style: italic;"><I>r32</I></span></td></tr>

<tr>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">0F 20 /<span style="font-style: italic;"><I>r</I></span></td>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">MOV <span style="font-style: italic;"><I>r32,</I></span>CR2</td>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">将 CR2 移到 <span style="font-style: italic;"><I>r32</I></span></td></tr>

<tr>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">0F 20 /<span style="font-style: italic;"><I>r</I></span></td>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">MOV <span style="font-style: italic;"><I>r32,</I></span>CR3</td>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">将 CR3 移到 <span style="font-style: italic;"><I>r32</I></span></td></tr>

<tr>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">0F 20 /<span style="font-style: italic;"><I>r</I></span></td>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">MOV <span style="font-style: italic;"><I>r32,</I></span>CR4</td>
<td valign="middle" class="whs2">
<p CLASS=TableCell
	style="margin-bottom: 0;">将 CR4 移到 <span style="font-style: italic;"><I>r32</I></span></td></tr>
</table>

<h2>说明</h2>

<p>将控制寄存器（CR0、CR2、CR3 或 CR4）的内容移到通用寄存器，或者相反。不论操作数大小属性如何，这些指令的操作数大小总是 32 位。如需有关控制寄存器的标志与字段的详细说明，请参阅&ldquo;<font style="font-family: Verdana, Arial, Helvetica, sans-serif;" 											face=Verdana>IA-32 英特尔(R) 体系结构软件开发人员手册</font>&rdquo;第 3 卷第 2 章中的&ldquo;控制寄存器&rdquo;）。</p>

<p>加载控制寄存器时，程序不应试图更改任何保留位；也就是说，应该总是将保留位设置为以前读取的值。</p>

<p>在操作码级别，ModR/M 字节中的 <span style="font-style: italic;"><I>reg</I></span> 字段指定加载或读取的控制寄存器。<span style="font-style: italic;"><I>mod</I></span> 字段中的两个位总是 11B。<span style="font-style: italic;"><I>r/m</I></span> 字段指定加载或读取的通用寄存器。</p>

<p>这些指令有以下副作用：</p>

<ul>
	
	<p>写入控制寄存器 CR3 时，将清除所有的非全局 TLB 项（请参阅&ldquo;<font style="font-family: Verdana, Arial, Helvetica, sans-serif;" 				face=Verdana>IA-32 英特尔(R) 体系结构软件开发人员手册</font>&rdquo;第 3 卷第 3 章中的&ldquo;转译查询缓冲区 (TLB)&rdquo;）。</p>
</ul>

<p>对于奔腾<font   style="font-family: Verdana, Arial, Helvetica, sans-serif;" 	face=Verdana>(R)</font> Pro 处理器，以下副作用取决于具体实现的版本。软件不应依赖将来或以前 IA-32 处理器中的此项功能：</p>

<ul>
	
	<p>修改控制寄存器中的任何分页标志（寄存器 CR0 中的 PE 与 PG，寄存器 CR4 中的 PGE、PSE 及 PAE）时，会清除所有的 TLB 项目，包括全局项目。如果 PG 标志设置为 1，且写入控制寄存器 CR4 以便将 PAE 标志设置为 1（以启用物理地址扩展模式），则将页目录指针表中的指针 (PDPTR) 加载到处理器（加载到内部非体系结构寄存器）。如果 PAE 标志与 PG 标志都设置为 1，则写入控制寄存器 CR3 会导致将 PDPTR 重新加载到处理器。如果 PAE 标志设置为 1，且写入控制寄存器 CR0 以设置 PG 标志，则将 PDPTR 重新加载到处理器。</p>
</ul>

<h2>操作</h2>

<p class=Preformatted>DEST <script type="text/javascript" language="JavaScript"><!--
if ((navigator.appName == "Netscape") && (parseInt(navigator.appVersion) <= 4)) 
{  if (parseInt(navigator.appVersion) != 2) document.write("<img src='arrwleft.gif' width='13px' height='16px' border='0' class='img_whs3'>");}
else
{   document.write("<img src='arrwleft.gif' style='margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;' width='13px' height='16px' border='0' class='img_whs3'>");}
//--></script><noscript><img src='arrwleft.gif' style='margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;' width='13px' height='16px' border='0' class='img_whs3'></noscript> SRC;</p>

<h2>影响的标志</h2>

<p>OF、SF、ZF、AF、PF 及 CF 标志未定义。</p>

<h2>保护模式异常</h2>

<p>#GP(0) - 如果当前特权级别不是 0。如果试图将无效的位组合写入 CR0（例如，在 PE 标志设置为 0 时，将 PG 标志设置为 1；或是在 NE 标志设置为 1 时，将 CD 设置为 0）。如果试图将 1 写入 CR4 中的任何保留位。如果在控制寄存器 CR4 中的 PAE 标志与控制寄存器 CR0 中的 PG 标志都设置为 1 时，试图将保留位写入页目录指针表格（在扩展物理地址模式中使用）。</p>

<h2>实地址模式异常</h2>

<p>#GP - 如果试图将 1 写入 CR4 中的任何保留位。</p>

<h2>虚 8086 模式异常</h2>

<p class="whs4">#GP(0) - 这些指令无法在虚 8086 模式中执行。 </p>

<script type="text/javascript" language="javascript1.2">
<!--
if (window.writeIntopicBar)
	writeIntopicBar(0);
//-->
</script>
</body>


<!-- Mirrored from www.hgy413.com/hgydocs/IA32/instruct32_hh/vc178.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Sep 2022 16:29:30 GMT -->
</html>
